bossbar set game:top players @a
scoreboard players reset * tmp

execute store result bossbar game:top max run scoreboard players get goal settings
execute store result bossbar game:top value run scoreboard players operation maxScore tmp > * score


execute unless score red score = lastKill tmp if score red score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Красные ","color":"red"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute unless score green score = lastKill tmp if score green score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Зелёные ","color":"green"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute unless score blue score = lastKill tmp if score blue score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Синие ","color":"blue"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute unless score yellow score = lastKill tmp if score yellow score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Жёлтые ","color":"yellow"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute unless score dark_red score = lastKill tmp if score dark_red score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-красные ","color":"dark_red"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute unless score dark_green score = lastKill tmp if score dark_green score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-зелёные ","color":"dark_green"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute unless score dark_blue score = lastKill tmp if score dark_blue score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-синие ","color":"dark_blue"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute unless score gold score = lastKill tmp if score gold score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-жёлтые ","color":"gold"},{"score":{"name":"maxScore","objective":"tmp"},"color":"yellow"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
scoreboard players operation lastKill tmp = goal settings
scoreboard players remove lastKill tmp 1
execute if score red score = lastKill tmp if score red score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Красные ","color":"red"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute if score green score = lastKill tmp if score green score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Зелёные ","color":"green"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute if score blue score = lastKill tmp if score blue score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Синие ","color":"blue"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute if score yellow score = lastKill tmp if score yellow score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Жёлтые ","color":"yellow"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute if score dark_red score = lastKill tmp if score dark_red score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-красные ","color":"dark_red"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute if score dark_green score = lastKill tmp if score dark_green score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-зелёные ","color":"dark_green"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute if score dark_blue score = lastKill tmp if score dark_blue score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-синие ","color":"dark_blue"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]
execute if score gold score = lastKill tmp if score gold score = maxScore tmp run bossbar set game:top name [{"text":"Лидер: ","color":"gray"},{"text":"Тёмно-жёлтые ","color":"gold"},{"score":{"name":"maxScore","objective":"tmp"},"color":"dark_red"},{"text":"/","color":"white"},{"score":{"name":"goal","objective":"settings"},"color":"yellow"}]

tag @e remove leader