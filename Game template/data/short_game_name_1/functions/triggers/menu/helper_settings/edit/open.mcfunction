tellraw @s [{"text":" ","color":"gray"},{"text":"[x] ","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Перейти"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -1"}},{"nbt":"game_titles[0]","storage":"core:storage","color":"gold"},{"text":" [⛏]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Инструменты"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2200"}},{"text":" ","color":"gold"},{"text":"[❤]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Игроки"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2400"}}]

#состояние
execute if score active sgn1.settings matches 0 if score state sgn1.game matches 1 run tellraw @s [{"text":" ","color":"gray"},{"text":"Состояние: ","color":"gray"},{"text":"[❌]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Игра закрыта для игроков. Нажмите, чтобы поменять."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2003"}},{"text":" ","color":"gray"},{"text":"[⏹]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в процессе. Нажмите, чтобы остановить."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2002"}}]
execute if score active sgn1.settings matches 0 if score state sgn1.game matches 0 run tellraw @s [{"text":" ","color":"gray"},{"text":"Состояние: ","color":"gray"},{"text":"[❌]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Игра закрыта для игроков. Нажмите, чтобы поменять."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2003"}},{"text":" ","color":"gray"},{"text":"[▶]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в ожидании игроков. Нажмите, чтобы начать."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2001"}}]

execute if score active sgn1.settings matches 1 if score state sgn1.game matches 1 run tellraw @s [{"text":" ","color":"gray"},{"text":"Состояние: ","color":"gray"},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Вайт-лист выключен. Нажмите чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2005"}},{"text":" ","color":"gray"},{"text":"[⏹]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в процессе. Нажмите, чтобы остановить."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2002"}}]
execute if score active sgn1.settings matches 1 if score state sgn1.game matches 0 run tellraw @s [{"text":" ","color":"gray"},{"text":"Состояние: ","color":"gray"},{"text":"[✔]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Вайт-лист выключен. Нажмите чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2005"}},{"text":" ","color":"gray"},{"text":"[▶]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в ожидании игроков. Нажмите, чтобы начать."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2001"}}]

execute if score active sgn1.settings matches 2 if score state sgn1.game matches 1 run tellraw @s [{"text":" ","color":"gray"},{"text":"Состояние: ","color":"gray"},{"text":"[⏹]","color":"yellow","hoverEvent":{"action":"show_text","contents":[{"text":"Вайт-лист включен. Нажмите, чтобы поменять."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2004"}},{"text":" ","color":"gray"},{"text":"[⏹]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в процессе. Нажмите, чтобы остановить."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2002"}}]
execute if score active sgn1.settings matches 2 if score state sgn1.game matches 0 run tellraw @s [{"text":" ","color":"gray"},{"text":"Состояние: ","color":"gray"},{"text":"[⏹]","color":"yellow","hoverEvent":{"action":"show_text","contents":[{"text":"Вайт-лист включен. Нажмите, чтобы поменять."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2004"}},{"text":" ","color":"gray"},{"text":"[▶]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в ожидании игроков. Нажмите, чтобы начать."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2001"}}]

# время переподключения
scoreboard players operation tmp calc = rejoin_threshold sgn1.settings

scoreboard players operation tmp calc /= 20 const
scoreboard players operation tmp calc /= 60 const

execute if score tmp calc matches ..-1 run tellraw @s [{"text":" ","color":"gray"},{"text":"Переподключение: ","color":"gray"},{"text":"[-]","color":"gray"},{"text":" "},{"color":"gold","score":{"objective":"calc","name":"tmp"}},{"text":" мин","color":"gray"},{"text":" [+]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Увеличить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2012"}},{"text":" [?]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Справка:\nА. Любое значение - отключившийся игрок будет исключен из игры после того пройдёт это время\nБ. 0 - отключившийся игрок будет исключен из игры моментально\nВ. -1 и ниже - настройка отключена"}]}}]

execute if score tmp calc matches 0..19 run tellraw @s [{"text":" ","color":"gray"},{"text":"Переподключение: ","color":"gray"},{"text":"[-]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Уменьшить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2013"}},{"text":" "},{"color":"gold","score":{"objective":"calc","name":"tmp"}},{"text":" мин","color":"gray"},{"text":" [+]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Увеличить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2012"}},{"text":" [?]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Справка:\nА. Любое значение - отключившийся игрок будет исключен из игры после того пройдёт это время\nБ. 0 - отключившийся игрок будет исключен из игры моментально\nВ. -1 и ниже - настройка отключена"}]}}]

execute if score tmp calc matches 20.. run tellraw @s [{"text":" ","color":"gray"},{"text":"Переподключение: ","color":"gray"},{"text":"[-]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Уменьшить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2013"}},{"text":" "},{"color":"gold","score":{"objective":"calc","name":"tmp"}},{"text":" мин","color":"gray"},{"text":" [+]","color":"gray"},{"text":" [?]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Справка:\nА. Любое значение - отключившийся игрок будет исключен из игры после того пройдёт это время\nБ. 0 - отключившийся игрок будет исключен из игры моментально\nВ. -1 и ниже - настройка отключена"}]}}]



#режим готовности
execute if score ready_mode sgn1.settings matches 0 run tellraw @s [{"text":" ","color":"gray"},{"text":"Режим готовности: ","color":"gray"},{"text":"[Свободный]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Все игроки могут выбрать состояние готовности. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2008"}}]
execute if score ready_mode sgn1.settings matches 1 run tellraw @s [{"text":" ","color":"gray"},{"text":"Режим готовности: ","color":"gray"},{"text":"[Ограниченный 1]","color":"gold","hoverEvent":{"action":"show_text","contents":[{"text":"Только не готовые игроки, могут выбрать состояние. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2008"}}]
execute if score ready_mode sgn1.settings matches 2 run tellraw @s [{"text":" ","color":"gray"},{"text":"Режим готовности: ","color":"gray"},{"text":"[Ограниченный 2]","color":"gold","hoverEvent":{"action":"show_text","contents":[{"text":"Только готовые игроки, могут выбрать состояние. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2008"}}]
execute if score ready_mode sgn1.settings matches 3 run tellraw @s [{"text":" ","color":"gray"},{"text":"Режим готовности: ","color":"gray"},{"text":"[Запретный 1]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Все игроки всегда готовы. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2008"}}]
execute if score ready_mode sgn1.settings matches 4 run tellraw @s [{"text":" ","color":"gray"},{"text":"Режим готовности: ","color":"gray"},{"text":"[Запретный 2]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Все игроки всегда не готовы. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2008"}}]


# команды
tellraw @s [{"text":" ","color":"gray"},{"text":"Команды: ","color":"gray"},{"text":"[⇄]","color":"aqua","hoverEvent":{"action":"show_text","contents":[{"text":"Перемешать команды"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2011"}},{"text":" "},{"text":"[∅]","color":"aqua","hoverEvent":{"action":"show_text","contents":[{"text":"Очистить команды"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2010"}}]


execute if score teams_mode sgn1.settings matches 0 run tellraw @s [{"text":" ","color":"gray"},{"text":" Режим: ","color":"gray"},{"text":"[Свободный]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Разрешается входить, выходить и менять команду. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2009"}}]
execute if score teams_mode sgn1.settings matches 1 run tellraw @s [{"text":" ","color":"gray"},{"text":" Режим: ","color":"gray"},{"text":"[Ограниченный 1]","color":"gold","hoverEvent":{"action":"show_text","contents":[{"text":"Разрешается только выходить из команды. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2009"}}]
execute if score teams_mode sgn1.settings matches 2 run tellraw @s [{"text":" ","color":"gray"},{"text":" Режим: ","color":"gray"},{"text":"[Ограниченный 2]","color":"gold","hoverEvent":{"action":"show_text","contents":[{"text":"Разрешается только входить и менять команду. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2009"}}]
execute if score teams_mode sgn1.settings matches 3 run tellraw @s [{"text":" ","color":"gray"},{"text":" Режим: ","color":"gray"},{"text":"[Запретный 1]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Разрешается только входить в команду. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2009"}}]
execute if score teams_mode sgn1.settings matches 4 run tellraw @s [{"text":" ","color":"gray"},{"text":" Режим: ","color":"gray"},{"text":"[Запретный 2]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Входить, выходить и менять команду запрещено. Нажмите, чтобы поменять"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2009"}}]

execute if score teams sgn1.settings matches 0 run tellraw @s [{"text":"  ","color":"gray"},{"text":"Кол-во: ","color":"gray"},{"text":"[-] ","color":"gray"},{"color":"gold","score":{"objective":"sgn1.settings","name":"teams"}},{"text":" [+]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Увеличить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2007"}}]
execute if score teams sgn1.settings matches 1..6 run tellraw @s [{"text":"  ","color":"gray"},{"text":"Кол-во: ","color":"gray"},{"text":"[-] ","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Уменьшить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2006"}},{"color":"gold","score":{"objective":"sgn1.settings","name":"teams"}},{"text":" [+]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Увеличить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2007"}}]
execute if score teams sgn1.settings matches 7.. run tellraw @s [{"text":"  ","color":"gray"},{"text":"Кол-во: ","color":"gray"},{"text":"[-] ","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Уменьшить"}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2006"}},{"color":"gold","score":{"objective":"sgn1.settings","name":"teams"}},{"text":" [+]","color":"gray"}]




# execute if score state sgn1.game matches 1 run tellraw @s [{"text":" ","color":"gray"},{"text":" [⏹]","color":"red","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в процессе. Нажмите, чтобы остановить."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2002"}}]
# execute if score state sgn1.game matches 0 run tellraw @s [{"text":" ","color":"gray"},{"text":"[▶]","color":"green","hoverEvent":{"action":"show_text","contents":[{"text":"Игра в ожидании игроков. Нажмите, чтобы начать."}]},"clickEvent":{"action":"run_command","value":"/trigger menu set -2001"}}]

# ✔❌